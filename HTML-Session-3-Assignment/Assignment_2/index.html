<!DOCTYPE html>
<html>
  <head>
	<title> Geolocation </title>
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?sensor=false">
    </script>
    <script type="text/javascript">
	
    	var map = null;
		var error = document.getElementById('demo');	
		
		function showlocation() {
			
			if(navigator.geolocation){
				
				navigator.geolocation.getCurrentPosition(showPosition , showError);
			}
			else{
			
				error.innerHTML = "Geolocation is not supported by this browser.";
			}
			
		}
    	
      function showPosition(position) {
      	
      	var lat = position.coords.latitude;
      	var lon = position.coords.longitude;
      	
	 	document.getElementById('latitude').innerHTML = lat;
	    document.getElementById('longitude').innerHTML = lon;
        
		var latlon = position.coords.latitude + "," + position.coords.longitude;
		
		var img_url = "http://maps.googleapis.com/maps/api/staticmap?center="
			+latlon+"&zoom=14&size=400x300&sensor=false";
		
		document.getElementById("mapholder").innerHTML = "<img src='"+img_url+"'>";
		
      }
	  
	  function showError(error) {
		switch(error.code){
			case error.PERMISSION_DENIED:
				x.innerHTML = "User denied the request for Geolocation."
				break;
			case error.POSITION_UNAVAILABLE:
				x.innerHTML = "Location information is unavailable."
				break;
			case error.TIMEOUT:
				x.innerHTML = "The request to get user location timed out."
				break;
			case error.UNKNOWN_ERROR:
				x.innerHTML = "An unknown error occurred."
				break;
			}
		}
		
    </script>
  </head>
  
  <body>
	
	<center>
		<p id='demo'> Click the button to get your position </p>
	</center>	
	
  	<center>
	
		<input type="button" value="Show my location on Map"
		    	onclick="javascript:showlocation()" />   <br/>
  	</center>
		
		
		Latitude: <span id="latitude"></span>  <br/>
		Longitude: <span id="longitude"></span>
		
  	<br/><br/>
    <div id="mapholder"/>
	
  </body>
  
</html>